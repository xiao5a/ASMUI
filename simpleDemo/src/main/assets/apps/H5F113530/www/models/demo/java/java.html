<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8"/>
		<title></title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link href="../../../css/common/mui.min.css" rel="stylesheet" />
		<link href="../../../css/common/mui.picker.min.css" rel="stylesheet" />
		<link href="../../../css/common/mui.poppicker.css" rel="stylesheet" />
		<link href="../../../css/common/mui-show-loading.css" rel="stylesheet" />
		<link href="../../../css/common/common.css" rel="stylesheet" />
		<link href="../../../css/common/common-ex.css" rel="stylesheet" />
	</head>
	<body>
		<header class="mui-bar mui-bar-nav ex-title-bar">
			<a class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left"></a>
			<h1 class="mui-title">调用原生代码</h1>
		</header>
		<div class="mui-content">
			<div class="mui-scroll-wrapper">
				<div id="scrollin" class="mui-scroll">


				</div>
			</div>
		</div>
		
		
		<script src="../../../js/common/jquery-1.11.1.min.js"></script>
		<script src="../../../js/common/mui.min.js"></script>
		<script src="../../../js/common/mui.picker.min.js"></script>
		<script src="../../../js/common/mui.poppicker.js"></script>
		<script src="../../../js/common/mui.showLoading.js"></script>
		<script src="../../../js/common/baseUtils.js"></script>
		<script type="text/javascript">
			mui.init();
			mui('.mui-scroll-wrapper').scroll({
				scrollY: true, //是否竖向滚动
				scrollX: false, //是否横向滚动
				startX: 0, //初始化时滚动至x
				startY: 0, //初始化时滚动至y
				indicators: true, //是否显示滚动条
				deceleration:0.0006, //阻尼系数,系数越小滑动越灵敏
				bounce: true //是否启用回弹
			});
			
			mui.plusReady(function() {
				// 测试调用原生代码 开始
				var demo = plus.android.importClass("com.neusoft.hbsw.demo.Demo");
				alert(demo.getResult());

				demo.callbaResult();
				// 测试调用原生代码 完成

				var webview = plus.webview.currentWebview();
				job.pageload(webview);
				
				window.addEventListener("refreshData", function(e) {
					var webview = plus.webview.currentWebview();
					job.refresh();
				});
				
				var old_back = mui.back;
				mui.back = function(refreshData) {
					if (refreshData){
						var curr = plus.webview.currentWebview();
						mui.fire(curr.opener(), "refreshData");
					}
					old_back();
				};
			});


			function testCallBack(data){
				alert(data);
			}
		</script>
	</body>
</html>
